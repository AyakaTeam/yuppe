仕様書

◆シミュレーション画面
用語：
以下文書の中で、使われる用語の曖昧さを回避するため、ここにまとめて記しておく。
左部が用語の名前、右部が用語の意味を説明する。
コード　　:　プログラムの記述(一行または複数行)
ステップ　:　コードといっしょ,　ステップ数=行数
トレース　:　各種の値を見ること
プログラムの正当性:ユーザが入力したテキストがCASL言語が定める規則を満たしているかどうか

----概要----
◆目的(どんなときに使う？)
①あるコードの実行結果が分からない
②あるコードの意味(動作)が分からない
③各値の変化を自分で理解できない
④ある時点でのレジスタ等の値が分からない
	
◆使用した結果(できること)
①実行結果を見ることができるので、上記の①で述べている「実行結果がわからない」という問題を解決する
②あるコードが実行された時の各値の変化を視覚化することで、上記の②、③、④で述べている「コードの動作が分からない」、「各値の変化を自分で理解できない」、「ある時点でのレジスタ等の値がわからない」と言った問題を解決する一助となる。
------------

◆機能リスト
シミュレーション機能は以下の5つのサブ機能に分解することが出来る。
シミュレーション機能は5つのサブ機能を以下の順で実行することで、その機能を全うすることが出来る。
サブ①テンプレートの選択
サブ②コード入力
サブ③トレース使用/不使用の選択(サブ機能④/⑤の移行分岐)
サブ④コードトレース
サブ⑤実行結果確認


//チャプタという言葉は的確ではないと思います。
//上記についてコメントアウトします。

◆サブ機能①　[テンプレートの選択]
前提：別の画面から[シミュレーション画面]へ遷移
構成物
　・各テンプレート名、説明(短ければコードも)を表示させるためのアイコン
　・新規作成(テンプレートを使用しない時に選択する)時にコード入力するためのアイコン
詳細
　・ユーザは表示された選択肢の中から一つを選んで、[サブ②]へ移行する。


◆サブ機能②　[コード入力]
前提：テンプレートが選択されている。もしくはテンプレートを使用しないことが選択されている。

構成物
　・テキスト入力のためのコンポーネント
　　コードを入力するために使われる。以下「テキスト入力エリア」と表記
　・プログラムの正当性を確かめる機能を実行するためのアイコン。以下、「アセンブリ/コンパイルアイコン」と表記
　・CASLの構文規則に準拠していることを確かめられたコードを基に次のサブ機能に移行するためのアイコン。以下、「実行アイコン」と表記
詳細
　・アセンブリ/コンパイルアイコンを使用して、入力されているプログラムの正当性を確認する機能
　　プログラムが正当であれば、実行アイコンが使用可能になる
　・テンプレートが選択されている場合、初期入力値としてテキスト入力エリアに表示される。更に、このエリアには新規にコードを挿入/削除が可能である。
　・実行アイコンを使用するとサブ③に移行する



◆サブ機能③　[トレース使用/不使用の選択(サブ④/⑤の移行分岐)]
・サブの遷移先を選択肢として表示する
・選択により以下のサブへ移行する
　[サブ④]コードトレース
　[サブ⑤]実行結果


◆サブ機能④　[コードトレース]
構成物
・2つのアイコン
　１．指定されたステップ数(デフォルトで1ステップ)を実行し、それに対するトレース結果を表示 
　２．直近１ステップの反映前のトレース結果を表示
　
・数値入力のためのコンポーネント

詳細
　・数値入力コンポーネント:Nextの実行ステップ数を設定する
　　初期値として1ステップが指定されている

　・アイコン①:設定数分のステップを実行する
　　実行内容に対応するトレース結果を表示する
　　最終ステップを実行済みの場合,Nextは無効

　・アイコン②:直近1ステップ前のトレース結果を表示する
　　実行済みステップ数がゼロの場合,Prevは無効

　　※最終ステップまで実行された結果は
　　サブ⑤での[実行結果]と同一となる(はず)

◆サブ機能⑤　※実行結果表示
前提条件：

　[実行結果確認]
・二つのUIを表示する(GR結果表示/主記憶の結果表示)
・サブ④にて,最終ステップまで
　サブ④で行われたトレースの最終段階で実行された場合と同じ表示をする
